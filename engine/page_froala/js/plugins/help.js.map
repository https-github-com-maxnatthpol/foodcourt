/*!
 * froala_editor v3.2.6 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2021 Froala Labs
 */

{"version":3,"file":"help.js","sources":["../../../src/js/plugins/help.js"],"sourcesContent":["import FE from '../index.js'\r\n'use strict';\r\n\r\n// Extend defaults.\r\nObject.assign(FE.DEFAULTS, {\r\n  helpSets: [\r\n    {\r\n      title: 'Inline Editor',\r\n      commands: [\r\n        { val: 'OSkeyE', desc: 'Show the editor' }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Common actions',\r\n      commands: [\r\n        { val: 'OSkeyC', desc: 'Copy' },\r\n        { val: 'OSkeyX', desc: 'Cut' },\r\n        { val: 'OSkeyV', desc: 'Paste' },\r\n        { val: 'OSkeyZ', desc: 'Undo' },\r\n        { val: 'OSkeyShift+Z', desc: 'Redo' },\r\n        { val: 'OSkeyK', desc: 'Insert Link' },\r\n        { val: 'OSkeyP', desc: 'Insert Image' }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Basic Formatting',\r\n      commands: [\r\n        { val: 'OSkeyA', desc: 'Select All' },\r\n        { val: 'OSkeyB', desc: 'Bold' },\r\n        { val: 'OSkeyI', desc: 'Italic' },\r\n        { val: 'OSkeyU', desc: 'Underline' },\r\n        { val: 'OSkeyS', desc: 'Strikethrough' },\r\n        { val: 'OSkey]', desc: 'Increase Indent' },\r\n        { val: 'OSkey[', desc: 'Decrease Indent' }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Quote',\r\n      commands: [\r\n        { val: 'OSkey\\'', desc: 'Increase quote level' },\r\n        { val: 'OSkeyShift+\\'', desc: 'Decrease quote level' }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Image / Video',\r\n      commands: [\r\n        { val: 'OSkey+', desc: 'Resize larger' },\r\n        { val: 'OSkey-', desc: 'Resize smaller' }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Table',\r\n      commands: [\r\n        { val: 'Alt+Space', desc: 'Select table cell' },\r\n        { val: 'Shift+Left/Right arrow', desc: 'Extend selection one cell' },\r\n        { val: 'Shift+Up/Down arrow', desc: 'Extend selection one row' }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Navigation',\r\n      commands: [\r\n        { val: 'OSkey/', desc: 'Shortcuts' },\r\n        { val: 'Alt+F10', desc: 'Focus popup / toolbar' },\r\n        { val: 'Esc', desc: 'Return focus to previous position' }\r\n      ]\r\n    }\r\n  ]\r\n})\r\n\r\nFE.PLUGINS.help = function (editor) {\r\n  const { $ } = editor \r\n  let $modal\r\n  const modal_id = 'help'\r\n\r\n\r\n  /*\r\n   * Init Help.\r\n   */\r\n  const _init = () => {\r\n\r\n  }\r\n\r\n  /*\r\n   * Build html body.\r\n   */\r\n  function _buildBody() {\r\n\r\n    // Begin body.\r\n    let body = '<div class=\"fr-help-modal\">'\r\n\r\n    for (let i = 0; i < editor.opts.helpSets.length; i++) {\r\n      const set = editor.opts.helpSets[i]\r\n\r\n      // Set shortcuts table.\r\n      // Begin Table.\r\n      let group = '<table>'\r\n\r\n      // Set title.\r\n      group += `<thead><tr><th>${editor.language.translate(set.title)}</th></tr></thead>`\r\n      group += '<tbody>'\r\n\r\n      // Build commands table.\r\n      for (let j = 0; j < set.commands.length; j++) {\r\n        const command = set.commands[j]\r\n        group += '<tr>'\r\n\r\n        group += `<td>${editor.language.translate(command.desc)}</td>`\r\n        group += `<td>${command.val.replace('OSkey', editor.helpers.isMac() ? '&#8984;' : 'Ctrl+')}</td>`\r\n\r\n        group += '</tr>'\r\n      }\r\n\r\n      // End table.\r\n      group += '</tbody></table>'\r\n\r\n      // Append group to body.\r\n      body += group\r\n    }\r\n\r\n    // End body.\r\n    body += '</div>'\r\n\r\n    return body\r\n  }\r\n\r\n  /*\r\n   * Show help.\r\n   */\r\n  function show() {\r\n    if (!$modal) {\r\n      const head = `<h4>${editor.language.translate('Shortcuts')}</h4>`\r\n      const body = _buildBody()\r\n\r\n      const modalHash = editor.modals.create(modal_id, head, body)\r\n      $modal = modalHash.$modal\r\n\r\n      // Resize help modal on window resize.\r\n      editor.events.$on($(editor.o_win), 'resize', function () {\r\n        editor.modals.resize(modal_id)\r\n      })\r\n    }\r\n\r\n    // Show modal.\r\n    editor.modals.show(modal_id)\r\n\r\n    // Modal may not fit window size.\r\n    editor.modals.resize(modal_id)\r\n  }\r\n\r\n  /*\r\n   * Hide help.\r\n   */\r\n  const hide = () => {\r\n    editor.modals.hide(modal_id)\r\n  }\r\n\r\n  return {\r\n    _init: _init,\r\n    show: show,\r\n    hide: hide\r\n  }\r\n}\r\n\r\nFE.DefineIcon('help', { NAME: 'question', SVG_KEY: 'help' })\r\n\r\nFE.RegisterShortcut(FE.KEYCODE.SLASH, 'help', null, '/')\r\n\r\nFE.RegisterCommand('help', {\r\n  title: 'Help',\r\n  icon: 'help',\r\n  undo: false,\r\n  focus: false,\r\n  modal: true,\r\n  callback: function () {\r\n    this.help.show()\r\n  },\r\n  plugin: 'help',\r\n  showOnMobile: false\r\n})\r\n"],"names":["Object","assign","FE","DEFAULTS","helpSets","title","commands","val","desc","PLUGINS","help","editor","$","$modal","modal_id","_init","_buildBody","body","i","opts","length","set","group","language","translate","j","command","replace","helpers","isMac","show","head","modalHash","modals","create","events","$on","o_win","resize","hide","DefineIcon","NAME","SVG_KEY","RegisterShortcut","KEYCODE","SLASH","RegisterCommand","icon","undo","focus","modal","callback","plugin","showOnMobile"],"mappings":";;;;;;;;EAIAA,MAAM,CAACC,MAAP,CAAcC,EAAE,CAACC,QAAjB,EAA2B;EACzBC,EAAAA,QAAQ,EAAE,CACR;EACEC,IAAAA,KAAK,EAAE,eADT;EAEEC,IAAAA,QAAQ,EAAE,CACR;EAAEC,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KADQ;EAFZ,GADQ,EAOR;EACEH,IAAAA,KAAK,EAAE,gBADT;EAEEC,IAAAA,QAAQ,EAAE,CACR;EAAEC,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KADQ,EAER;EAAED,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KAFQ,EAGR;EAAED,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KAHQ,EAIR;EAAED,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KAJQ,EAKR;EAAED,MAAAA,GAAG,EAAE,cAAP;EAAuBC,MAAAA,IAAI,EAAE;EAA7B,KALQ,EAMR;EAAED,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KANQ,EAOR;EAAED,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KAPQ;EAFZ,GAPQ,EAmBR;EACEH,IAAAA,KAAK,EAAE,kBADT;EAEEC,IAAAA,QAAQ,EAAE,CACR;EAAEC,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KADQ,EAER;EAAED,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KAFQ,EAGR;EAAED,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KAHQ,EAIR;EAAED,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KAJQ,EAKR;EAAED,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KALQ,EAMR;EAAED,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KANQ,EAOR;EAAED,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KAPQ;EAFZ,GAnBQ,EA+BR;EACEH,IAAAA,KAAK,EAAE,OADT;EAEEC,IAAAA,QAAQ,EAAE,CACR;EAAEC,MAAAA,GAAG,EAAE,SAAP;EAAkBC,MAAAA,IAAI,EAAE;EAAxB,KADQ,EAER;EAAED,MAAAA,GAAG,EAAE,eAAP;EAAwBC,MAAAA,IAAI,EAAE;EAA9B,KAFQ;EAFZ,GA/BQ,EAsCR;EACEH,IAAAA,KAAK,EAAE,eADT;EAEEC,IAAAA,QAAQ,EAAE,CACR;EAAEC,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KADQ,EAER;EAAED,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KAFQ;EAFZ,GAtCQ,EA6CR;EACEH,IAAAA,KAAK,EAAE,OADT;EAEEC,IAAAA,QAAQ,EAAE,CACR;EAAEC,MAAAA,GAAG,EAAE,WAAP;EAAoBC,MAAAA,IAAI,EAAE;EAA1B,KADQ,EAER;EAAED,MAAAA,GAAG,EAAE,wBAAP;EAAiCC,MAAAA,IAAI,EAAE;EAAvC,KAFQ,EAGR;EAAED,MAAAA,GAAG,EAAE,qBAAP;EAA8BC,MAAAA,IAAI,EAAE;EAApC,KAHQ;EAFZ,GA7CQ,EAqDR;EACEH,IAAAA,KAAK,EAAE,YADT;EAEEC,IAAAA,QAAQ,EAAE,CACR;EAAEC,MAAAA,GAAG,EAAE,QAAP;EAAiBC,MAAAA,IAAI,EAAE;EAAvB,KADQ,EAER;EAAED,MAAAA,GAAG,EAAE,SAAP;EAAkBC,MAAAA,IAAI,EAAE;EAAxB,KAFQ,EAGR;EAAED,MAAAA,GAAG,EAAE,KAAP;EAAcC,MAAAA,IAAI,EAAE;EAApB,KAHQ;EAFZ,GArDQ;EADe,CAA3B;;EAiEAN,EAAE,CAACO,OAAH,CAAWC,IAAX,GAAkB,UAAUC,MAAV,EAAkB;EAAA,MAC1BC,CAD0B,GACpBD,MADoB,CAC1BC,CAD0B;EAElC,MAAIC,MAAJ;EACA,MAAMC,QAAQ,GAAG,MAAjB;EAGA;EACF;EACA;;EACE,MAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM,EAApB;EAIA;EACF;EACA;;;EACE,WAASC,UAAT,GAAsB;EAEpB;EACA,QAAIC,IAAI,GAAG,6BAAX;;EAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,MAAM,CAACQ,IAAP,CAAYf,QAAZ,CAAqBgB,MAAzC,EAAiDF,CAAC,EAAlD,EAAsD;EACpD,UAAMG,GAAG,GAAGV,MAAM,CAACQ,IAAP,CAAYf,QAAZ,CAAqBc,CAArB,CAAZ,CADoD;EAIpD;;EACA,UAAII,KAAK,GAAG,SAAZ,CALoD;;EAQpDA,MAAAA,KAAK,6BAAsBX,MAAM,CAACY,QAAP,CAAgBC,SAAhB,CAA0BH,GAAG,CAAChB,KAA9B,CAAtB,uBAAL;EACAiB,MAAAA,KAAK,IAAI,SAAT,CAToD;;EAYpD,WAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,GAAG,CAACf,QAAJ,CAAac,MAAjC,EAAyCK,CAAC,EAA1C,EAA8C;EAC5C,YAAMC,OAAO,GAAGL,GAAG,CAACf,QAAJ,CAAamB,CAAb,CAAhB;EACAH,QAAAA,KAAK,IAAI,MAAT;EAEAA,QAAAA,KAAK,kBAAWX,MAAM,CAACY,QAAP,CAAgBC,SAAhB,CAA0BE,OAAO,CAAClB,IAAlC,CAAX,UAAL;EACAc,QAAAA,KAAK,kBAAWI,OAAO,CAACnB,GAAR,CAAYoB,OAAZ,CAAoB,OAApB,EAA6BhB,MAAM,CAACiB,OAAP,CAAeC,KAAf,KAAyB,SAAzB,GAAqC,OAAlE,CAAX,UAAL;EAEAP,QAAAA,KAAK,IAAI,OAAT;EACD,OApBmD;;;EAuBpDA,MAAAA,KAAK,IAAI,kBAAT,CAvBoD;;EA0BpDL,MAAAA,IAAI,IAAIK,KAAR;EACD,KAhCmB;;;EAmCpBL,IAAAA,IAAI,IAAI,QAAR;EAEA,WAAOA,IAAP;EACD;EAED;EACF;EACA;;;EACE,WAASa,IAAT,GAAgB;EACd,QAAI,CAACjB,MAAL,EAAa;EACX,UAAMkB,IAAI,iBAAUpB,MAAM,CAACY,QAAP,CAAgBC,SAAhB,CAA0B,WAA1B,CAAV,UAAV;;EACA,UAAMP,IAAI,GAAGD,UAAU,EAAvB;;EAEA,UAAMgB,SAAS,GAAGrB,MAAM,CAACsB,MAAP,CAAcC,MAAd,CAAqBpB,QAArB,EAA+BiB,IAA/B,EAAqCd,IAArC,CAAlB;EACAJ,MAAAA,MAAM,GAAGmB,SAAS,CAACnB,MAAnB,CALW;;EAQXF,MAAAA,MAAM,CAACwB,MAAP,CAAcC,GAAd,CAAkBxB,CAAC,CAACD,MAAM,CAAC0B,KAAR,CAAnB,EAAmC,QAAnC,EAA6C,YAAY;EACvD1B,QAAAA,MAAM,CAACsB,MAAP,CAAcK,MAAd,CAAqBxB,QAArB;EACD,OAFD;EAGD,KAZa;;;EAedH,IAAAA,MAAM,CAACsB,MAAP,CAAcH,IAAd,CAAmBhB,QAAnB,EAfc;;EAkBdH,IAAAA,MAAM,CAACsB,MAAP,CAAcK,MAAd,CAAqBxB,QAArB;EACD;EAED;EACF;EACA;;;EACE,MAAMyB,IAAI,GAAG,SAAPA,IAAO,GAAM;EACjB5B,IAAAA,MAAM,CAACsB,MAAP,CAAcM,IAAd,CAAmBzB,QAAnB;EACD,GAFD;;EAIA,SAAO;EACLC,IAAAA,KAAK,EAAEA,KADF;EAELe,IAAAA,IAAI,EAAEA,IAFD;EAGLS,IAAAA,IAAI,EAAEA;EAHD,GAAP;EAKD,CA5FD;;EA8FArC,EAAE,CAACsC,UAAH,CAAc,MAAd,EAAsB;EAAEC,EAAAA,IAAI,EAAE,UAAR;EAAoBC,EAAAA,OAAO,EAAE;EAA7B,CAAtB;EAEAxC,EAAE,CAACyC,gBAAH,CAAoBzC,EAAE,CAAC0C,OAAH,CAAWC,KAA/B,EAAsC,MAAtC,EAA8C,IAA9C,EAAoD,GAApD;EAEA3C,EAAE,CAAC4C,eAAH,CAAmB,MAAnB,EAA2B;EACzBzC,EAAAA,KAAK,EAAE,MADkB;EAEzB0C,EAAAA,IAAI,EAAE,MAFmB;EAGzBC,EAAAA,IAAI,EAAE,KAHmB;EAIzBC,EAAAA,KAAK,EAAE,KAJkB;EAKzBC,EAAAA,KAAK,EAAE,IALkB;EAMzBC,EAAAA,QAAQ,EAAE,oBAAY;EACpB,SAAKzC,IAAL,CAAUoB,IAAV;EACD,GARwB;EASzBsB,EAAAA,MAAM,EAAE,MATiB;EAUzBC,EAAAA,YAAY,EAAE;EAVW,CAA3B;;;;"}