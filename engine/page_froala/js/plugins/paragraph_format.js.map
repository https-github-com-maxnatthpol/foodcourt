/*!
 * froala_editor v3.2.6 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2021 Froala Labs
 */

{"version":3,"file":"paragraph_format.js","sources":["../../../src/js/plugins/paragraph_format.js"],"sourcesContent":["import FE from '../index.js'\r\n\r\nObject.assign(FE.DEFAULTS, {\r\n  paragraphFormat: {\r\n    N: 'Normal',\r\n    H1: 'Heading 1',\r\n    H2: 'Heading 2',\r\n    H3: 'Heading 3',\r\n    H4: 'Heading 4',\r\n    PRE: 'Code'\r\n  },\r\n  paragraphFormatSelection: false,\r\n  paragraphDefaultSelection: 'Paragraph Format'\r\n})\r\n\r\nFE.PLUGINS.paragraphFormat = function (editor) {\r\n  const $ = editor.$\r\n\r\n  /**\r\n   * Style content inside LI when LI is selected.\r\n   * This case happens only when the LI contains a nested list or when it has no block tag inside.\r\n   */\r\n  function _styleLiWithoutBlocks($li, val) {\r\n    const defaultTag = editor.html.defaultTag()\r\n\r\n    // If val is null or default tag already do nothing.\r\n    if (val && val.toLowerCase() != defaultTag) {\r\n\r\n      // Deal with nested lists.\r\n      if ($li.find('ul, ol').length > 0) {\r\n        const $el = $('<' + val + '>')\r\n        $li.prepend($el)\r\n        let node = editor.node.contents($li.get(0))[0]\r\n\r\n        while (node && ['UL', 'OL'].indexOf(node.tagName) < 0) {\r\n          const next_node = node.nextSibling\r\n          $el.append(node)\r\n          node = next_node\r\n        }\r\n      }\r\n\r\n      // Wrap list content.\r\n      else {\r\n        $li.html('<' + val + '>' + $li.html() + '</' + val + '>')\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Style content inside LI.\r\n   */\r\n  function _styleLiWithBlocks($blk, val) {\r\n    const defaultTag = editor.html.defaultTag()\r\n\r\n    // Prepare a temp div.\r\n    if (!val || val.toLowerCase() == defaultTag) val = 'div class=\"fr-temp-div\"'\r\n\r\n    $blk.replaceWith($('<' + val + '>').html($blk.html()))\r\n  }\r\n\r\n  /**\r\n   * Style content inside TD.\r\n   */\r\n  function _styleTdWithBlocks($blk, val) {\r\n    const defaultTag = editor.html.defaultTag()\r\n\r\n    // Prepare a temp div.\r\n    if (!val) val = 'div class=\"fr-temp-div\"' + (editor.node.isEmpty($blk.get(0), true) ? ' data-empty=\"true\"' : '')\r\n\r\n    // Return to the regular case. We don't use P inside TD/TH.\r\n    if (val.toLowerCase() == defaultTag) {\r\n\r\n      // If node is not empty, then add a BR.\r\n      if (!editor.node.isEmpty($blk.get(0), true)) {\r\n        $blk.append('<br/>')\r\n      }\r\n\r\n      $blk.replaceWith($blk.html())\r\n    }\r\n\r\n    // Replace with the new tag.\r\n    else {\r\n      $blk.replaceWith($('<' + val + '>').html($blk.html()))\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Basic style.\r\n   */\r\n  function _style($blk, val) {\r\n    if (!val) val = 'div class=\"fr-temp-div\"' + (editor.node.isEmpty($blk.get(0), true) ? ' data-empty=\"true\"' : '')\r\n    //1708 Paragraph Format\r\n    if(val==\"H1\"||val==\"H2\"||val==\"H3\"||val==\"H4\"||val==\"H5\")\r\n    {\r\n       let $checkstyle=editor.node.attributes($blk.get(0));  \r\n       if($checkstyle.includes(\"font-size:\"))\r\n      $blk.replaceWith($('<' + val + ' ' + editor.node.attributes($blk.get(0)).replace(/font-size:[0-9]+px;?/,\"\") + '>').html($blk.html()).removeAttr('data-empty'))\r\n       else\r\n       $blk.replaceWith($('<' + val + ' ' + editor.node.attributes($blk.get(0)) + '>').html($blk.html()).removeAttr('data-empty'))\r\n    }\r\n   else\r\n    $blk.replaceWith($('<' + val + ' ' + editor.node.attributes($blk.get(0)) + '>').html($blk.html()).removeAttr('data-empty'))\r\n  }\r\n\r\n  /**\r\n   * Apply style.\r\n   */\r\n  function apply(val) {\r\n\r\n    // Normal.\r\n    if (val == 'N') val = editor.html.defaultTag()\r\n\r\n    // Wrap.\r\n    editor.selection.save()\r\n    editor.html.wrap(true, true, !editor.opts.paragraphFormat.BLOCKQUOTE, true, true)\r\n    editor.selection.restore()\r\n\r\n    // Get blocks.\r\n    const blocks = editor.selection.blocks()\r\n\r\n    // Save selection to restore it later.\r\n    editor.selection.save()\r\n\r\n    editor.$el.find('pre').attr('skip', true)\r\n\r\n    // Go through each block and apply style to it.\r\n    for (let i = 0; i < blocks.length; i++) {\r\n      if (blocks[i].tagName != val && !editor.node.isList(blocks[i])) {\r\n        const $blk = $(blocks[i])\r\n\r\n        // Style the content inside LI when there is selection right in LI.\r\n        if (blocks[i].tagName == 'LI') {\r\n          _styleLiWithoutBlocks($blk, val)\r\n        }\r\n\r\n        // Style the content inside LI when we have other tag in LI.\r\n        else if (blocks[i].parentNode.tagName == 'LI' && blocks[i]) {\r\n          _styleLiWithBlocks($blk, val)\r\n        }\r\n\r\n        // Style the content inside TD/TH.\r\n        else if (['TD', 'TH'].indexOf(blocks[i].parentNode.tagName) >= 0) {\r\n          _styleTdWithBlocks($blk, val)\r\n        }\r\n\r\n        // Regular case.\r\n        else {\r\n          _style($blk, val)\r\n        }\r\n      }\r\n    }\r\n\r\n    // Join PRE together.\r\n    editor.$el.find('pre:not([skip=\"true\"]) + pre:not([skip=\"true\"])').each(function () {\r\n      $(this).prev().append('<br>' + $(this).html())\r\n      $(this).remove()\r\n    })\r\n    editor.$el.find('pre').removeAttr('skip')\r\n\r\n    // Unwrap temp divs.\r\n    editor.html.unwrap()\r\n\r\n    // Restore selection.\r\n    editor.selection.restore()\r\n  }\r\n\r\n  function refreshOnShow($btn, $dropdown) {\r\n    const blocks = editor.selection.blocks()\r\n\r\n    if (blocks.length) {\r\n      const blk = blocks[0]\r\n      let tag = 'N'\r\n      const default_tag = editor.html.defaultTag()\r\n\r\n      if (blk.tagName.toLowerCase() != default_tag && blk != editor.el) {\r\n        tag = blk.tagName\r\n      }\r\n\r\n      $dropdown.find('.fr-command[data-param1=\"' + tag + '\"]').addClass('fr-active').attr('aria-selected', true)\r\n    }\r\n    else {\r\n      $dropdown.find('.fr-command[data-param1=\"N\"]').addClass('fr-active').attr('aria-selected', true)\r\n    }\r\n  }\r\n\r\n  function refresh($btn) {\r\n    if (editor.opts.paragraphFormatSelection) {\r\n      const blocks = editor.selection.blocks()\r\n\r\n      if (blocks.length) {\r\n        const blk = blocks[0]\r\n        let tag = 'N'\r\n        const default_tag = editor.html.defaultTag()\r\n\r\n        if (blk.tagName.toLowerCase() != default_tag && blk != editor.el) {\r\n          tag = blk.tagName\r\n        }\r\n\r\n        if (['LI', 'TD', 'TH'].indexOf(tag) >= 0) {\r\n          tag = 'N'\r\n        }\r\n\r\n        $btn.find('>span').text(editor.language.translate(editor.opts.paragraphFormat[tag]))\r\n      }\r\n      else {\r\n        $btn.find('>span').text(editor.language.translate(editor.opts.paragraphFormat.N))\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    apply: apply,\r\n    refreshOnShow: refreshOnShow,\r\n    refresh: refresh\r\n  }\r\n}\r\n\r\n// Register the font size command.\r\nFE.RegisterCommand('paragraphFormat', {\r\n  type: 'dropdown',\r\n  displaySelection: function (editor) {\r\n    return editor.opts.paragraphFormatSelection\r\n  },\r\n  defaultSelection: function (editor) {\r\n    return editor.language.translate(editor.opts.paragraphDefaultSelection)\r\n  },\r\n  displaySelectionWidth: 80,\r\n  html: function () {\r\n    let c = '<ul class=\"fr-dropdown-list\" role=\"presentation\">'\r\n    const options = this.opts.paragraphFormat\r\n\r\n    for (const val in options) {\r\n      if (options.hasOwnProperty(val)) {\r\n        let shortcut = this.shortcuts.get('paragraphFormat.' + val)\r\n\r\n        if (shortcut) {\r\n          shortcut = '<span class=\"fr-shortcut\">' + shortcut + '</span>'\r\n        }\r\n        else {\r\n          shortcut = ''\r\n        }\r\n\r\n        c += '<li role=\"presentation\"><' + (val == 'N' ? this.html.defaultTag() || 'DIV' : val) + ' style=\"padding: 0 !important; margin: 0 !important; border: 0 !important; background-color: transparent !important; ' +(val=='PRE' || val=='N' ? 'font-size: 15px' : 'font-weight: bold !important; ') + (val=='H1' ? 'font-size: 2em !important; ': '') +(val=='H2' ? 'font-size: 1.5em !important; ': '') + (val=='H3' ? 'font-size: 1.17em !important; ': '') + (val=='H4' ? 'font-size: 15px !important;': '') + '\"  role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"paragraphFormat\" data-param1=\"' + val + '\" title=\"' + this.language.translate(options[val]) + '\">' + this.language.translate(options[val]) + '</a></' + (val == 'N' ? this.html.defaultTag() || 'DIV' : val) + '></li>'\r\n      }\r\n    }\r\n    c += '</ul>'\r\n\r\n    return c\r\n  },\r\n  title: 'Paragraph Format',\r\n  callback: function (cmd, val) {\r\n    this.paragraphFormat.apply(val)\r\n  },\r\n  refresh: function ($btn) {\r\n    this.paragraphFormat.refresh($btn)\r\n  },\r\n  refreshOnShow: function ($btn, $dropdown) {\r\n    this.paragraphFormat.refreshOnShow($btn, $dropdown)\r\n  },\r\n  plugin: 'paragraphFormat'\r\n})\r\n\r\n// Add the font size icon.\r\nFE.DefineIcon('paragraphFormat', {\r\n  NAME: 'paragraph',\r\n  SVG_KEY: 'paragraphFormat'\r\n})\r\n"],"names":["Object","assign","FE","DEFAULTS","paragraphFormat","N","H1","H2","H3","H4","PRE","paragraphFormatSelection","paragraphDefaultSelection","PLUGINS","editor","$","_styleLiWithoutBlocks","$li","val","defaultTag","html","toLowerCase","find","length","$el","prepend","node","contents","get","indexOf","tagName","next_node","nextSibling","append","_styleLiWithBlocks","$blk","replaceWith","_styleTdWithBlocks","isEmpty","_style","$checkstyle","attributes","includes","replace","removeAttr","apply","selection","save","wrap","opts","BLOCKQUOTE","restore","blocks","attr","i","isList","parentNode","each","prev","remove","unwrap","refreshOnShow","$btn","$dropdown","blk","tag","default_tag","el","addClass","refresh","text","language","translate","RegisterCommand","type","displaySelection","defaultSelection","displaySelectionWidth","c","options","hasOwnProperty","shortcut","shortcuts","title","callback","cmd","plugin","DefineIcon","NAME","SVG_KEY"],"mappings":"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"}